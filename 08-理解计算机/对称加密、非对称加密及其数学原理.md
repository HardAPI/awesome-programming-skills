## 对称加密、非对称加密及其数学原理

看了一篇阮一峰老师的密码学的笔记，[原文](http://www.ruanyifeng.com/blog/2006/12/notes_on_cryptography.html)写于2006年12月，特记录下，当做笔记学习。

> 1. 加密方法可以分为两大类。一类是单钥加密（private key cryptography），还有一类叫做双钥加密（public key cryptography）。前者的加密和解密过程都用同一套密码，后者的加密和解密过程用的是两套密码。
>
>    历史上，人类传统的加密方法都是前一种，比如二战期间德军用的 Enigma 电报密码。莫尔斯电码也可以看作是一种私钥加密方法。
>
> 2. 在单钥加密的情况下，密钥只有一把，所以密钥的保存变得很重要。一旦密钥泄漏，密码也就被破解。
>
> 3. 在双钥加密的情况下，密钥有两把，一把是公开的公钥，还有一把是不公开的私钥。
>
>    双钥加密的原理如下：
>
>    a) 公钥和私钥是一一对应的关系，有一把公钥就必然有一把与之对应的、独一无二的私钥，反之亦成立。
>
> ​	b) 所有的（公钥, 私钥）对都是不同的。
>
> ​	c) 用公钥可以解开私钥加密的信息，反之亦成立。
>
> ​	d) 同时生成公钥和私钥应该相对比较容易，但是从公钥推算出私钥，应该是很困难或者是不可能的。
>
> 4. 目前，通用的单钥加密算法为 DES（Data Encryption Standard），通用的双钥加密算法为 RSA（ Rivest-Shamir-Adleman），都产生于上个世纪70年代。
> 5. 在双钥体系中，**公钥用来加密信息，私钥用来数字签名**。
> 6. 因为任何人都可以生成自己的（公钥，私钥）对，所以为了防止有人散布伪造的公钥骗取信任，就需要一个可靠的第三方机构来生成经过认证的（公钥，私钥）对。目前，世界上最主要的数字服务认证商是位于美国加州的 [Verisign](http://www.verisign.com/) 公司，它的主要业务就是分发 RSA 数字证书。



偶然有看到李永乐老师（一开始我以为是考研线代那个李永乐老师...）也有科普相关知识，值得看看，油管链接为：[银行密码系统安全吗？质数（素数）到底有啥用？](https://www.youtube.com/watch?v=D_kMadCtKp8)

人们花这么大力气去研究这些数学问题有什么意义，今天我就给大家来说一下数学的意义，比如说我们去银行存钱取钱 用到密码，那么密码就是基于数学的。

**一、对称加密**

对称加密是以前比较常见的一种加密方式。所谓对称加密的意思是说，假如有一个人 Alice 她想把一个信号 m 传递给 Bob，她不能直接把这个信号告诉 Bob，否则的话可能会有人窃听，于是通过**一些算法**，比如说通过加一个数字 e 变成一个新的数字 C，她把数字 C 传递给 Bob，Bob接到 C 之后再减去这个 e 就会得到原来的数字 m。

![](https://img-1256179949.cos.ap-shanghai.myqcloud.com/18-5-11-74873241.jpg)

这个 m 我们称之为**明文**，就是希望我们希望表达的含义。这个 C 我们称之为**密文**，就是我们可以公开传递的一个信息。这个 e 称之为秘钥，是需要保密的，不能告诉其他人。

![](https://img-1256179949.cos.ap-shanghai.myqcloud.com/18-5-11-17426616.jpg)

**这里的算法可以非常复杂**，但就算是再复杂也可能会存在被窃听的可能，因为窃者可以穷举，比如可以一次又一次的尝试以前的算法，就可以把秘钥给试出来，所以秘钥是不保险的。于是人们就想能不能这样，我们发一段文字之后就换一个秘钥，再发一段文字再换一个秘钥，这样别人就不知道我说的是什么了，但问题是秘**钥的分发又成为一个问题**，你怎么才能**把这个 e 的安全的传给 Bob**。（所以秘钥的分发是很麻烦的一件事，那么现在的量子保密通信就可以实现密钥分发的保密性。） PS：除了这种对称加密，现在比较流行的一种算法叫非对称加密。

**二、非对称加密**

还是以上面为例子。

Alice 想把一个信息 m 传递给 Bob，那么首先 Bob 干这么一件事，Bob 生成两个**有相互关系**的数字，这两个有相关关系的数字，一个叫做 e（**公钥**），一个叫做 d（**私钥**），然后 Bob 先把这个 e 传递给 Alice，可以通过公开的方式，然后 Alice 通过公钥的**某一个算法**得到一个密文 C，然后 Alice 再通过公开的方式把这个密文告诉 Bob，这里就体现出“不对称”了。通过密文求解原文的过程不是减 e 而是减 d，通过减 d 的方法，我们就可以得到一个明文，这个明文叫 m。

> 也就是说这个 d 和 e 是有一定关系的，我经加密的时候我用 e 这个数字进行加密，但是我解密的时候用 d 数字进行解密，我传递公钥给你的过程我不怕你窃听，因为就算你窃听了，你也不知道我这个私钥是什么，所以你窃听了我的公钥和密文之后，你依然无法得到明文。——这就是非对称的加密方式。

![](https://img-1256179949.cos.ap-shanghai.myqcloud.com/18-5-11-26725778.jpg)

那么非对称加密到底是基于一种什么样的数学原理呢？这里更详细的还是看[李老师视频](https://www.youtube.com/watch?v=D_kMadCtKp8)讲解吧。

典型的非对称加密：RSA 加密算法。

> 是在1978年的时候 麻省理工MIT有三位数学教授，他们一起发明了这种算法，这种算法 三个人的名字分别叫R、S 和 A 打头所以就叫 RSA 算法。RSA 加密算法的原理在视频可以了解到。

视频有提到「大数的因数分解」：

> 有没有什么方式可以比较快的计算大数的质因数分解？有。那就是量子计算机。（普通计算机算十年大数的质因数分解，量子计算机可能算一个星期就算出来了。）
>
> 那如果这样的话，这个我们的银行系统什么的可能都要更新，否则就没有办法保证安全。
> 我们现在也知道每隔一段时间我们银行的系统都需要更新一次的，我们的数字证书都是要重新更新，否则就不能用了。这是为什么？因为我们要不停的更换我们算法和密钥以保证我们的安全性。















