# 杂七杂八的技术

## 关于 NFC、蓝牙、红外线

NFC

- [小米公交卡实现的原理是什么？](http://www.miui.com/thread-8806237-1-1.html)

  > 小米公交卡其实就是对全功能NFC应用，其实现的原理是利用NFC技术，全称是Near Field Communication，即利用近场通信实现近场支付功能。
  >
  > NFC的技术特点，简单讲就是精简强化版的短距离蓝牙。NFC同蓝牙一样，都是基于短程的无线通信技术， 而且如今多数被集成到手机里。与蓝牙不同的是，NFC不需要复杂的前期配对流程，且拥有比蓝牙更低的功耗和更好的安全性。不过，这些相对蓝牙的优势都是通过牺牲传输距离和传输速度换来的。NFC的有效传输距离通常不到20cm，速度也只有424Kb/s，但蓝牙5.0传输距离已经可以达到300 米，速度上线为24Mb/s，两者完全不是一个数量级的。两者技术参数的差别，注定了他们要面对完全不同的应用场景。对比蓝牙技术目前异常广泛的应用，NFC技术的应用主要集中在门禁刷卡(如公交一卡通)和近场支付(如Apple Pay)这两种情况。
  >
  > 针对NFC技术在公交一卡通方面的实现方式，有两种应用场景：
  >
  > **场景1：  需要实体公交卡**
  > 手机只能利用内置的NFC模块向同样支持NFC的公交卡充值，充值之后手机还是手机，坐公交和地铁还是需要带一张公交卡的。除了需要手机和一卡通之外，还需要下载与某个城市一卡通匹配的App，例如上海的“上海交通卡”App，和北京的“e乐充公交卡”App等，具体要下载哪款App可以在各自城市的公交系统网站查询。下载安装好App之后，按照提示充值即可。需要注意的地方是，通常这种充值都需要一个“回写”的过程，切不可急于分离手机和一卡通。所谓“回写”是指，在App调用手机NFC硬件读取了一卡通里存储的信息之后，用户借用手机充值，改写了这一数据，此时一般会有充值成功的提示，但其实改写的数据还没有写入一卡通里，此时还需要等待App的一个“回写”过程，因此不要急于分离一卡通。
  >
  > **场景2： 需要虚拟公交卡**
  > 这种场景非常方便，只要一部手机就可以实现乘坐公交和地铁，完全不需要实体卡的介入。小米手机如小米5、小米6等支持的就是这种类型。要实现这种虚拟的公交一卡通，需要用户在特定的App里，比如小米公交App，申请一张虚拟的一卡通，然后将一卡通卡号写入手机NFC模块，进行虚拟一卡通与手机NFC模块的绑定，此后通过向手机向该虚拟一卡通充值，即改写NFC模块中绑定的信息，即可使用。
  > 在这种场景中需要注意，虚拟一卡通并不是与该App的登录账号绑定，例如小米账号，而是与手机的NFC模块硬件绑定，假设用户更换了手机，即使在新手机上登录了同一个小米账号，也不能正常使用该虚拟一卡通。

- [NFC标签 - 一文了解NFC技术的原理、特点及应用](http://www.rfsister.com/article/23544373.html)

  > NFC与蓝牙的功能非常相像，都是短程通信技术，而且都被集成到移动电话。但NFC不需要复杂的设置程序。因此，NFC也可以简化 版的蓝牙功能。但其速度却不如蓝牙。NFC的最大数据传输量 424 kbit/s 远小于 Bluetooth V2.1 （2.1 Mbit/s）。

区别：

- [浅谈NFC、RFID、红外、蓝牙的区别](https://blog.csdn.net/github_38885296/article/details/78978978)

  > NFC优于红外和蓝牙传输方式。作为一种面向消费者的交易机制，NFC比红外更快、更可靠而且简单得多，不用向红外那样必须严格的对齐才能传输数据。与蓝牙相比，NFC面向近距离交易，适用于交换财务信息或敏感的个人信息等重要数据;蓝牙能够弥补NFC通信距离不足的缺点，适用于较长距离数据通信。因此，NFC和蓝牙互为补充，共同存在。事实上，快捷轻型的NFC 协议可以用于引导两台设备之间的蓝牙配对过程，促进了蓝牙的使用。

### 关于视频、图像的了解

1）视频

- [码率，分辨率，帧率 ...](https://www.jianshu.com/p/028196b8ca14)
- [视频技术基础](https://www.jianshu.com/p/c905f3ec59c9)

2）图像



**关于卫星：**

- [中国为什么要发展北斗，它为何令欧美恨之入骨](http://www.glac.org.cn/index.php?m=content&c=index&a=show&catid=38&id=3347)
- [人造卫星有哪些用途？](https://zhidao.baidu.com/question/982379060300257979.html)

  > 个人总结：人造卫星有三大用途——①定位和导航；②通信；③遥感

## 5G通信技术

- [第一次有人把5G讲的这么简单明了！](https://mp.weixin.qq.com/s/0TeJ26x_WBH7-hC71Gq3aA)
- [5G之争](https://mp.weixin.qq.com/s/XercMzOhbQMbYb0LHknvhA)
- [5G这么拽，我到底什么时候才能用上它？](https://mp.weixin.qq.com/s/IsmbAP3YeaaJPyUqJQXPjA)

## 定位原理

视频：[手机定位原理（GPS定位、WiFi定位、基站定位、A-GPS）](https://www.youtube.com/watch?v=YUCzyJ6O-PI)

地理定位方式：

- 卫星定位
- WiFi定位
- 基站定位
- A-GPS定位

常见卫星定位系统：GPS、北斗(BDS)、伽利略、Glonass

卫星定位系统=空间部分（GPS卫星星座）+控制部分（地面监控系统）+用户部分（GPS信号接收机）

GPS定位：通过四颗已知位置的卫星来确定GPS接收器的位置

星战距离=光速xGPS型号时间延迟量

三维空间中三对数据确定一个点，第四条校正误差

苹果手机内置GPS+GLONASS双定位



视频，李永乐：[手机定位和导航是啥原理？GPS和北斗有啥区别？](https://www.youtube.com/watch?v=Rhq18MV6LtU)

现在世界上用得最多的是美国的卫星定位系统，也就是全球卫星定位系统GPS，这是美国在上世纪70年代开始由军队主导的一个项目，那么现在中国也开始研究卫星定位系统，我们已经逐渐的开始布置北斗卫星导航系统，除了中国和美国以外，你像欧盟还有俄罗斯，他们也有卫星定位系统，那么，不同国家的卫星定位系统基本原理都是一样的，那么它们提供的服务都是这么几个：

一个叫授时，就告诉你的时间是什么，

一个叫定位，告诉你你的位置是什么，

一个是导航，告诉你前面可能会有拥堵，路怎么走这些功能，是吧！

修正误差实际上是卫星定位最大的障碍，比如说现在比较常见的一种方法，我们称为差分定位的方法

差分定位，什么叫差分定位？ 就是说，你想知道这个人的空间坐标和时间坐标，我旁边有一个非常精密的基站，这个基站上面有一个高精密的定位仪器，不光你和卫星联络，同时这个基站它也和这四颗卫星联动，那么因为基站的数据比较准确，所以它就可以通过跟这些卫星联络，知道到你这个位置的时候大概会有多少误差，因为你和基站离得比较近，比如说几十公里或者一百公里以内，这个时候它就可以把误差作用在你的手机上对你进行修正，这样一来你的效果就会比较好，比如我们现在一般的卫星定位都要求定位精度在十米范围以内的，我们大部分的时候是采用这种差分定位的方法进行修正，现在我们大部分的定位系统还是采用美国的GPS，比如我们的手机一般是这样的，但是随着我们的导航系统，北斗导航越来越先进之后，我们以后得很多定位设备都会采用我们国产的北斗导航系统，

[我们经常用到的手机定位的原理到底是什么？](https://www.jianshu.com/p/a776ed702765)

开发者如何实现定位能力？

了解了这些定位方式的“开发者实现方式”，开发者恐怕要浑身冒汗了，千千万万的app难道者都如上述说的，“自行维护基站、WIFI数据库”吗？

答案当然是否定的，在实际的工程实践中，主流的做法是两种：

(1) 手段之一：调用系统级定位能力

无论哪个系统（IOS、安卓、WP）都提供了一套系统级定位能力，这样的定位能力，对应着是一套系统级API，这个API一般来说，总是会有如下几个精度的选项：

高精度：能搜到GPS卫星，则使用GPS定位，否则，则使用WIFI定位，如果WIFI和GPS都无法定位成功，只能根据基站来给出定位结果了。

平衡功耗：禁用GPS（因为它非常耗电），优先使用WIFI，如果WIFI不可用，则用基站来进行定位。

低功耗（被动定位）：根据不同系统的规定，实现方式也不同，但大体上都是共享其他app的定位结果，即其他app以高精度、平衡功耗的方式得到位置，那么这个位置也一并推送给当前使用“低功耗定位”的app，也就是该app不消耗额外的能耗，就完成了定位。

……

(2) 手段之二：调用第三方定位SDK

对于可以公开读取基站、WIFI信息的Android手机系统，国内的百度、高德等地图厂商自行实现了定位SDK，该定位SDK的作用就是通过系统接口读取到原始定位信息，然后借助于各家自行部署维护的数据库，查询到当前扫描到的基站、WIFI的位置，最终计算出更准确的定位结果，通过SDK的接口，返回给开发者。这么做的好处，在于能够让app的定位能力脱离对手机系统的依赖。

[儿童定位手表有哪些定位方式？原理是什么？](http://www.szxgo.com/Article/etdwsbynxd_1.html)

定位原理是什么？

1、GPS定位，指的是用户可以在全球范围内实现全天候、连续、实时的三维导航定位和测速；另外，利用该系统，用户还能够进行高精度的时间传递和高精度的精密定位。

2、WIFI定位，指的是当一台设备打开Wi-Fi功能时，可以找到很多Wi-Fi热点，可以测出每个热点的信号强度，还能知道每个热点的SSID和MAC地址。那么，如果可以在每个地方记录下周围有那些Wi-Fi热点，就可以得到一个很大的数据表，然后当你的设备打开Wi-Fi，根据周围搜索到的Wi-Fi的MAC地址和信号强度，就可以反查出你在哪个位置。

3、LBS基站定位，指的是一般应用于手机用户，它是基于位置的服务，通过电信、移动运营商的无线电通讯网络(如GSM网、CDMA网)或外部定位方式(如GPS)获取移动终端用户的位置信息(地理坐标，或大地坐标)，在GIS(Geographic Information System，地理信息系统）平台的支持下，为用户提供相应服务的一种增值业务

4、惯性导航定位，指的是以陀螺和加速度计为敏感器件的导航参数解算系统，该系统根据陀螺的输出建立导航坐标系，根据加速度计输出解算出运载体在导航坐标系中的速度和位置。

